components:
  schemas:
    ApiKeyAssignmentEntity:
      properties:
        apiKey:
          allOf:
            - $ref: "#/components/schemas/ApiKeyEntity"
          description: The api key of the api key assignment
        apiKeyId:
          description: The id of the api key
          format: uuid
          type: string
        connectorPermissions:
          description: The connector permissions of the api key assignment
          items:
            $ref: "#/components/schemas/ApiKeyConnectorPermissionEntity"
          type: array
        createdAt:
          description: The timestamp when the invite was created
          format: date-time
          type: string
        id:
          description: The unique identifier for the entity
          format: uuid
          type: string
        kbPermissions:
          description: The permissions of the api key
          enum:
            - 1
            - 2
            - 4
          type: number
        knowledge:
          allOf:
            - $ref: "#/components/schemas/KnowledgeEntity"
          description: The knowledge base of the api key assignment
        knowledgeId:
          description: The id of the knowledge base
          format: uuid
          type: string
        updatedAt:
          description: The timestamp when the invite was last updated
          format: date-time
          type: string
      required:
        - id
        - createdAt
        - updatedAt
        - apiKeyId
        - kbPermissions
        - knowledgeId
      type: object
    ApiKeyConnectorPermissionEntity:
      properties:
        apiKeyAssignment:
          allOf:
            - $ref: "#/components/schemas/ApiKeyAssignmentEntity"
          description: The api key assignment of api key connector permission
        apiKeyAssignmentId:
          description: The id of api key connector permission
          format: uuid
          type: string
        connector:
          allOf:
            - $ref: "#/components/schemas/ConnectorEntity"
          description: The connector of api key connector permission
        connectorId:
          description: The id of api key connector permission
          format: uuid
          type: string
        createdAt:
          description: The timestamp when the invite was created
          format: date-time
          type: string
        id:
          description: The unique identifier for the entity
          format: uuid
          type: string
        manifestSnapshot:
          description: The manifest of api key connector permission
          oneOf:
            - $ref: "#/components/schemas/MCPIntegrationManifest"
            - $ref: "#/components/schemas/ManualIntegrationManifest"
        manifestVersion:
          description: The manifest version of api key connector permission
          nullable: true
          type: string
        policyMode:
          description: The policy mode of api key connector permission
          enum:
            - ALLOWLIST
            - DENYLIST
          type: string
        resources:
          description: The resources of api key connector permission
          items:
            type: string
          nullable: true
          type: array
        tools:
          description: The tools of api key connector permission
          items:
            type: string
          nullable: true
          type: array
        updatedAt:
          description: The timestamp when the invite was last updated
          format: date-time
          type: string
        webhookEvents:
          description: The webhook events of api key connector permission
          items:
            type: string
          nullable: true
          type: array
      required:
        - id
        - createdAt
        - updatedAt
        - connectorId
        - apiKeyAssignmentId
        - policyMode
        - tools
        - resources
        - webhookEvents
        - manifestSnapshot
        - manifestVersion
      type: object
    ApiKeyEntity:
      properties:
        apiKeyAssignments:
          items:
            $ref: "#/components/schemas/ApiKeyAssignmentEntity"
          type: array
        createdAt:
          description: The timestamp when the invite was created
          format: date-time
          type: string
        expiresAt:
          description: The expires at of the api key
          format: date-time
          nullable: true
          type: string
        id:
          description: The unique identifier for the entity
          format: uuid
          type: string
        name:
          description: The name of the api key
          type: string
        rateLimit:
          description: The rate limit of the api key
          type: number
        updatedAt:
          description: The timestamp when the invite was last updated
          format: date-time
          type: string
      required:
        - id
        - createdAt
        - updatedAt
        - name
        - rateLimit
        - expiresAt
      type: object
    ArrayFieldSchema:
      properties:
        description:
          description: the description of the field
          type: string
        schema:
          allOf:
            - $ref: "#/components/schemas/FieldSchema"
          description: the schema of the array
          oneOf:
            - $ref: "#/components/schemas/StringFieldSchema"
            - $ref: "#/components/schemas/NumberFieldSchema"
            - $ref: "#/components/schemas/BooleanFieldSchema"
            - $ref: "#/components/schemas/ArrayFieldSchema"
            - $ref: "#/components/schemas/ObjectFieldSchema"
        type:
          description: the type of the field
          enum:
            - object
            - array
            - string
            - number
            - boolean
          type: string
      required:
        - type
        - schema
      type: object
    BooleanFieldSchema:
      properties:
        description:
          description: the description of the field
          type: string
        type:
          description: the type of the field
          enum:
            - object
            - array
            - string
            - number
            - boolean
          type: string
      required:
        - type
      type: object
    ConnectorAuth:
      properties: {}
      type: object
    ConnectorEntity:
      properties:
        apiKeyConnectorPermissions:
          items:
            $ref: "#/components/schemas/ApiKeyConnectorPermissionEntity"
          type: array
        auth:
          $ref: "#/components/schemas/ConnectorAuth"
        capabilities:
          description: The capabilities of the connector
          items:
            enum:
              - INGEST
              - SEARCH
              - ACTION
            type: string
          type: array
        config:
          oneOf:
            - $ref: "#/components/schemas/MCPIntegrationManifest"
            - $ref: "#/components/schemas/ManualIntegrationManifest"
        connectorState:
          $ref: "#/components/schemas/ConnectorStateEntity"
        createdAt:
          description: The timestamp when the invite was created
          format: date-time
          type: string
        id:
          description: The unique identifier for the entity
          format: uuid
          type: string
        integration:
          $ref: "#/components/schemas/IntegrationEntity"
        integrationId:
          description: The integration id
          format: uuid
          type: string
        knowledge:
          $ref: "#/components/schemas/KnowledgeEntity"
        knowledgeId:
          description: The knowledge base id
          format: uuid
          type: string
        name:
          description: The name of the connector
          type: string
        type:
          description: The type of the connector
          enum:
            - MANUAL
            - MCP
          type: string
        updatedAt:
          description: The timestamp when the invite was last updated
          format: date-time
          type: string
      required:
        - id
        - createdAt
        - updatedAt
        - knowledgeId
        - integrationId
        - name
        - type
        - capabilities
        - config
      type: object
    ConnectorMetrics:
      properties: {}
      type: object
    ConnectorStateEntity:
      properties:
        connector:
          $ref: "#/components/schemas/ConnectorEntity"
        connectorId:
          description: The unique identifier for the connector state
          format: uuid
          type: string
        createdAt:
          description: The timestamp when the invite was created
          format: date-time
          type: string
        errorCount:
          description: The error count of the connector state
          type: number
        id:
          description: The unique identifier for the entity
          format: uuid
          type: string
        lastErrorDetails:
          description: The last error details of the connector state
          nullable: true
          type: string
        lastErrorMessage:
          description: The last error message of the connector state
          nullable: false
          type: string
        lastHeartbeatAt:
          description: The unique identifier for the connector state
          type: string
        lastSyncAt:
          description: The unique identifier for the connector state
          type: string
        metrics:
          $ref: "#/components/schemas/ConnectorMetrics"
        status:
          description: The status of the connector state
          enum:
            - HEALTHY
            - WARNING
            - ERROR
            - OFFLINE
          type: string
        syncCursor:
          description: The sync cursor of the connector state
          nullable: true
          type: string
        throttleStatus:
          $ref: "#/components/schemas/ConnectorThrottleStatus"
        updatedAt:
          description: The timestamp when the invite was last updated
          format: date-time
          type: string
      required:
        - id
        - createdAt
        - updatedAt
        - connectorId
        - lastHeartbeatAt
        - lastSyncAt
        - status
        - errorCount
        - lastErrorMessage
        - lastErrorDetails
        - throttleStatus
        - metrics
        - syncCursor
      type: object
    ConnectorThrottleStatus:
      properties: {}
      type: object
    CreateConnectorDto:
      properties:
        integrationId:
          description: The integration id
          format: uuid
          type: string
        knowledgeId:
          description: The knowledge base id
          format: uuid
          type: string
        name:
          description: The name of the connector
          type: string
      required:
        - knowledgeId
        - integrationId
        - name
      type: object
    CreateKnowledgeDto:
      properties:
        name:
          description: The name of the knowledge base
          type: string
        namespace:
          description: The namespace of the knowledge base
          nullable: true
          type: string
      required:
        - name
      type: object
    CreateOrUpdateApiKeyDto:
      properties:
        knowledgeBases:
          items:
            $ref: "#/components/schemas/KnowledgeBaseApiKeyConfig"
          type: array
        name:
          description: The name of the api key
          type: string
      required:
        - name
      type: object
    CreateSessionDto:
      properties:
        metadata:
          additionalProperties: true
          type: object
        name:
          nullable: true
          type: string
        type:
          enum:
            - CHAT
          type: string
      required:
        - type
      type: object
    ErrorResponse:
      properties:
        code:
          type: string
        error:
          type: string
        timestamp:
          format: date-time
          type: string
      required:
        - error
        - code
        - timestamp
      type: object
    ExpandDto:
      properties: {}
      type: object
    FieldSchema:
      properties:
        description:
          description: the description of the field
          type: string
        type:
          description: the type of the field
          enum:
            - object
            - array
            - string
            - number
            - boolean
          type: string
      required:
        - type
      type: object
    IngestDto:
      properties:
        connectorId:
          format: uuid
          type: string
        externalId:
          nullable: true
          type: string
        file:
          format: binary
          type: string
        knowledgeId:
          format: uuid
          type: string
        metadata:
          nullable: true
          type: string
      required:
        - file
        - knowledgeId
        - connectorId
      type: object
    IntegrationEntity:
      properties:
        authMethods:
          description: The authentication methods of the integration
          items:
            enum:
              - OAUTH
              - API_KEY
              - JWT
            type: string
          type: array
        connectors:
          description: The connectors of the integration
          items:
            $ref: "#/components/schemas/ConnectorEntity"
          type: array
        createdAt:
          description: The timestamp when the invite was created
          format: date-time
          type: string
        id:
          description: The unique identifier for the entity
          format: uuid
          type: string
        manifest:
          description: The name of the integration
          oneOf:
            - $ref: "#/components/schemas/MCPIntegrationManifest"
            - $ref: "#/components/schemas/ManualIntegrationManifest"
        name:
          description: The name of the integration
          type: string
        type:
          description: The type of the integration
          enum:
            - MANUAL
            - MCP
          type: string
        updatedAt:
          description: The timestamp when the invite was last updated
          format: date-time
          type: string
      required:
        - id
        - createdAt
        - updatedAt
        - name
        - type
        - authMethods
        - manifest
        - connectors
      type: object
    KnowledgeBaseApiKeyConfig:
      properties:
        connectorPermissions:
          items:
            $ref: "#/components/schemas/KnowledgeBaseApiKeyConnectorConfig"
          type: array
        knowledgeId:
          format: uuid
          type: string
        permissions:
          enum:
            - 1
            - 2
            - 4
          type: number
      required:
        - knowledgeId
        - permissions
      type: object
    KnowledgeBaseApiKeyConnectorConfig:
      properties:
        connectorId:
          format: uuid
          type: string
        policyMode:
          enum:
            - ALLOWLIST
            - DENYLIST
          type: string
        resources:
          items:
            type: string
          nullable: true
          type: array
        tools:
          items:
            type: string
          nullable: true
          type: array
        webhookEvents:
          items:
            type: string
          nullable: true
          type: array
      required:
        - connectorId
        - policyMode
      type: object
    KnowledgeEntity:
      properties:
        apiKeyAssignments:
          description: The api key assignments of the knowledge base
          items:
            $ref: "#/components/schemas/ApiKeyAssignmentEntity"
          type: array
        connectors:
          description: The connectors of the knowledge base
          items:
            $ref: "#/components/schemas/ConnectorEntity"
          type: array
        createdAt:
          description: The timestamp when the invite was created
          format: date-time
          type: string
        id:
          description: The unique identifier for the entity
          format: uuid
          type: string
        name:
          description: The name of the knowledge base
          type: string
        namespace:
          description: The namespace of the knowledge base
          nullable: true
          type: string
        updatedAt:
          description: The timestamp when the invite was last updated
          format: date-time
          type: string
      required:
        - id
        - createdAt
        - updatedAt
        - name
        - connectors
        - apiKeyAssignments
      type: object
    MCPIntegrationManifest:
      properties:
        baseUrl:
          description: The base url of the integration
          type: string
        capabilities:
          description: The capabilities of the integration
          items:
            enum:
              - INGEST
              - SEARCH
              - ACTION
            type: string
          type: array
        features:
          description: The features of the integration
          items:
            enum:
              - FILE_MANAGEMENT
            type: string
          type: array
        resources:
          description: The resources exposed by the integration
          items:
            $ref: "#/components/schemas/MCPResource"
          type: array
        tools:
          description: The tools provided by the integration
          items:
            $ref: "#/components/schemas/MCPTool"
          type: array
        version:
          description: The version of the integration
          type: string
      required:
        - version
        - baseUrl
        - capabilities
        - features
        - tools
        - resources
      type: object
    MCPResource:
      properties:
        description:
          description: The description of the resource
          type: string
        key:
          description: The unique key of the resource
          type: string
        schema:
          additionalProperties: true
          description: The schema of the resource
          type: object
        title:
          description: The title of the resource
          type: string
      required:
        - key
        - title
        - schema
      type: object
    MCPTool:
      properties:
        annotations:
          additionalProperties: true
          description: Additional annotations of the tool
          type: object
        description:
          description: The description of the tool
          type: string
        inputSchema:
          additionalProperties: true
          description: The input schema of the tool
          type: object
        key:
          description: The unique key of the tool
          type: string
        outputSchema:
          additionalProperties: true
          description: The output schema of the tool
          type: object
        title:
          description: The title of the tool
          type: string
      required:
        - key
        - title
        - inputSchema
        - outputSchema
      type: object
    ManualIntegrationManifest:
      properties:
        baseUrl:
          description: The base url of the integration
          type: string
        capabilities:
          description: The capabilities of the integration
          items:
            enum:
              - INGEST
              - SEARCH
              - ACTION
            type: string
          type: array
        features:
          description: The name of the integration
          items:
            enum:
              - FILE_MANAGEMENT
            type: string
          type: array
        version:
          description: The version of the integration
          type: string
        webhooks:
          description: The webhooks of the integration
          items:
            $ref: "#/components/schemas/Webhook"
          type: array
      required:
        - version
        - baseUrl
        - capabilities
        - features
      type: object
    NumberFieldSchema:
      properties:
        description:
          description: the description of the field
          type: string
        type:
          description: the type of the field
          enum:
            - object
            - array
            - string
            - number
            - boolean
          type: string
      required:
        - type
      type: object
    ObjectFieldSchema:
      properties:
        description:
          description: the description of the field
          type: string
        schema:
          allOf:
            - $ref: "#/components/schemas/FieldSchema"
          description: the schema of the object
          oneOf:
            - $ref: "#/components/schemas/StringFieldSchema"
            - $ref: "#/components/schemas/NumberFieldSchema"
            - $ref: "#/components/schemas/BooleanFieldSchema"
            - $ref: "#/components/schemas/ObjectFieldSchema"
        type:
          description: the type of the field
          enum:
            - object
            - array
            - string
            - number
            - boolean
          type: string
      required:
        - type
        - schema
      type: object
    SendMessageDto:
      properties:
        content:
          description: The content of message to send
          type: string
      required:
        - content
      type: object
    SessionContextEntity:
      properties:
        lastRun:
          additionalProperties:
            properties:
              runId:
                type: string
              status:
                type: string
              stepIndex:
                type: number
            type: object
          type: object
        session:
          $ref: "#/components/schemas/SessionEntity"
        sessionId:
          description: The unique identifier for the session context
          format: uuid
          type: string
        state:
          enum:
            - GENERATING
            - IDLE
          nullable: true
          type: string
      required:
        - sessionId
      type: object
    SessionEntity:
      properties:
        context:
          $ref: "#/components/schemas/SessionContextEntity"
        createdAt:
          description: The timestamp when the invite was created
          format: date-time
          type: string
        id:
          description: The unique identifier for the entity
          format: uuid
          type: string
        knowledgeId:
          format: uuid
          type: string
        messages:
          items:
            $ref: "#/components/schemas/SessionMessageEntity"
          type: array
        metadata:
          additionalProperties: true
          type: object
        name:
          nullable: true
          type: string
        type:
          enum:
            - CHAT
          type: string
        updatedAt:
          description: The timestamp when the invite was last updated
          format: date-time
          type: string
      required:
        - id
        - createdAt
        - updatedAt
        - type
        - knowledgeId
        - context
        - messages
      type: object
    SessionMessageEntity:
      properties:
        content:
          type: string
        createdAt:
          description: The timestamp when the invite was created
          format: date-time
          type: string
        id:
          description: The unique identifier for the entity
          format: uuid
          type: string
        knowledge:
          $ref: "#/components/schemas/KnowledgeEntity"
        knowledgeId:
          format: uuid
          type: string
        role:
          enum:
            - USER
            - ASSISTANT
            - SYSTEM
            - FUNCTION
          type: string
        session:
          $ref: "#/components/schemas/SessionEntity"
        sessionId:
          format: uuid
          type: string
        updatedAt:
          description: The timestamp when the invite was last updated
          format: date-time
          type: string
      required:
        - id
        - createdAt
        - updatedAt
        - sessionId
        - knowledgeId
        - content
        - role
      type: object
    StringFieldSchema:
      properties:
        description:
          description: the description of the field
          type: string
        type:
          description: the type of the field
          enum:
            - object
            - array
            - string
            - number
            - boolean
          type: string
      required:
        - type
      type: object
    StructuredOutputDto:
      properties:
        schema:
          allOf:
            - $ref: "#/components/schemas/FieldSchema"
          description: the schema of the object
          oneOf:
            - $ref: "#/components/schemas/StringFieldSchema"
            - $ref: "#/components/schemas/NumberFieldSchema"
            - $ref: "#/components/schemas/BooleanFieldSchema"
            - $ref: "#/components/schemas/ArrayFieldSchema"
            - $ref: "#/components/schemas/ObjectFieldSchema"
        text:
          description: The text to be processed
          type: string
      required:
        - text
        - schema
      type: object
    SummaryDto:
      properties: {}
      type: object
    Webhook:
      properties:
        event:
          description: On call this event in core, this webhook will be called
          type: string
        url:
          description: The url of the webhook
          format: uri
          type: string
      required:
        - event
        - url
      type: object
  securitySchemes:
    api_key:
      description: API Key
      in: header
      name: x-api-key
      type: apiKey
info:
  contact: {}
  description: The Snipet API description
  title: Snipet core API
  version: "1.0"
openapi: 3.0.0
paths:
  /api/api-key:
    get:
      operationId: ApiKeyController_findMany
      parameters:
        - description: Maximum number of records to return
          in: query
          name: limit
          required: false
          schema:
            example: 10
            type: number
        - description: Number of records to skip
          in: query
          name: offset
          required: false
          schema:
            example: 0
            type: number
        - description: 'Sort order. Use "-" to DESC. Allowed fields: '
          in: query
          name: sort
          required: false
          schema:
            items:
              type: string
            type: array
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/ApiKeyEntity"
                type: array
          description: Records found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - ApiKey
    post:
      operationId: ApiKeyController_create
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateOrUpdateApiKeyDto"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiKeyEntity"
          description: Record created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "409":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Conflict - duplicate record
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - ApiKey
  /api/api-key/{id}:
    delete:
      operationId: ApiKeyController_delete
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiKeyEntity"
          description: Record deleted successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - ApiKey
    get:
      operationId: ApiKeyController_findByID
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiKeyEntity"
          description: Record found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - ApiKey
    put:
      operationId: ApiKeyController_update
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateOrUpdateApiKeyDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiKeyEntity"
          description: Record updated successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - ApiKey
  /api/connector:
    get:
      operationId: ConnectorController_findMany
      parameters:
        - description: Maximum number of records to return
          in: query
          name: limit
          required: false
          schema:
            example: 10
            type: number
        - description: Number of records to skip
          in: query
          name: offset
          required: false
          schema:
            example: 0
            type: number
        - description: 'Sort order. Use "-" to DESC. Allowed fields: '
          in: query
          name: sort
          required: false
          schema:
            items:
              type: string
            type: array
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/ConnectorEntity"
                type: array
          description: Records found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Connector
    post:
      operationId: ConnectorController_create
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateConnectorDto"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConnectorEntity"
          description: Record created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "409":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Conflict - duplicate record
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Connector
  /api/connector/ingest:
    post:
      operationId: IngestController_ingest
      parameters: []
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/IngestDto"
        required: true
      responses:
        "201":
          description: ""
      security:
        - access-token: []
      tags:
        - Ingest
  /api/connector/ingest/status/{id}:
    get:
      operationId: IngestController_getStatus
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: ""
      security:
        - access-token: []
      tags:
        - Ingest
  /api/connector/{id}:
    delete:
      operationId: ConnectorController_delete
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConnectorEntity"
          description: Record deleted successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Connector
    get:
      operationId: ConnectorController_findByID
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConnectorEntity"
          description: Record found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Connector
    put:
      operationId: ConnectorController_update
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: string
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConnectorEntity"
          description: Record updated successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Connector
  /api/integration:
    get:
      operationId: IntegrationController_findMany
      parameters:
        - description: Maximum number of records to return
          in: query
          name: limit
          required: false
          schema:
            example: 10
            type: number
        - description: Number of records to skip
          in: query
          name: offset
          required: false
          schema:
            example: 0
            type: number
        - description: 'Sort order. Use "-" to DESC. Allowed fields: '
          in: query
          name: sort
          required: false
          schema:
            items:
              type: string
            type: array
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/IntegrationEntity"
                type: array
          description: Records found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Integration
    post:
      operationId: IntegrationController_create
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: string
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IntegrationEntity"
          description: Record created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "409":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Conflict - duplicate record
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Integration
  /api/integration/{id}:
    delete:
      operationId: IntegrationController_delete
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IntegrationEntity"
          description: Record deleted successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Integration
    get:
      operationId: IntegrationController_findByID
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IntegrationEntity"
          description: Record found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Integration
    put:
      operationId: IntegrationController_update
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: string
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IntegrationEntity"
          description: Record updated successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Integration
  /api/knowledge:
    get:
      operationId: KnowledgeController_findMany
      parameters:
        - description: Maximum number of records to return
          in: query
          name: limit
          required: false
          schema:
            example: 10
            type: number
        - description: Number of records to skip
          in: query
          name: offset
          required: false
          schema:
            example: 0
            type: number
        - description: 'Sort order. Use "-" to DESC. Allowed fields: '
          in: query
          name: sort
          required: false
          schema:
            items:
              type: string
            type: array
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/KnowledgeEntity"
                type: array
          description: Records found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Knowledge
    post:
      operationId: KnowledgeController_create
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateKnowledgeDto"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/KnowledgeEntity"
          description: Record created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "409":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Conflict - duplicate record
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Knowledge
  /api/knowledge/{id}:
    delete:
      operationId: KnowledgeController_delete
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/KnowledgeEntity"
          description: Record deleted successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Knowledge
    get:
      operationId: KnowledgeController_findByID
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/KnowledgeEntity"
          description: Record found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Knowledge
    put:
      operationId: KnowledgeController_update
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: string
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/KnowledgeEntity"
          description: Record updated successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Knowledge
  /api/knowledge/{knowledgeId}/session:
    get:
      operationId: SessionController_findMany
      parameters:
        - description: Maximum number of records to return
          in: query
          name: limit
          required: false
          schema:
            example: 10
            type: number
        - description: Number of records to skip
          in: query
          name: offset
          required: false
          schema:
            example: 0
            type: number
        - description: 'Sort order. Use "-" to DESC. Allowed fields: '
          in: query
          name: sort
          required: false
          schema:
            items:
              type: string
            type: array
        - in: path
          name: knowledgeId
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/SessionEntity"
                type: array
          description: Records found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Session
    post:
      operationId: SessionController_create
      parameters:
        - in: path
          name: knowledgeId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateSessionDto"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SessionEntity"
          description: Record created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "409":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Conflict - duplicate record
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Session
  /api/knowledge/{knowledgeId}/session/{id}:
    delete:
      operationId: SessionController_delete
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
        - in: path
          name: knowledgeId
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SessionEntity"
          description: Record deleted successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Session
    get:
      operationId: SessionController_findByID
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
        - in: path
          name: knowledgeId
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SessionEntity"
          description: Record found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Session
    put:
      operationId: SessionController_update
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
        - in: path
          name: knowledgeId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: string
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SessionEntity"
          description: Record updated successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Session
  /api/knowledge/{knowledgeId}/session/{sessionId}/message:
    get:
      operationId: SessionMessageController_findMany
      parameters:
        - description: Maximum number of records to return
          in: query
          name: limit
          required: false
          schema:
            example: 10
            type: number
        - description: Number of records to skip
          in: query
          name: offset
          required: false
          schema:
            example: 0
            type: number
        - description: 'Sort order. Use "-" to DESC. Allowed fields: '
          in: query
          name: sort
          required: false
          schema:
            items:
              type: string
            type: array
        - in: path
          name: knowledgeId
          required: true
          schema:
            type: string
        - in: path
          name: sessionId
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/SessionMessageEntity"
                type: array
          description: Records found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - SessionMessage
    post:
      operationId: SessionMessageController_create
      parameters:
        - in: path
          name: knowledgeId
          required: true
          schema:
            type: string
        - in: path
          name: sessionId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SendMessageDto"
        required: true
      responses:
        "201":
          description: ""
      security:
        - access-token: []
        - access-token: []
      tags:
        - SessionMessage
  /api/knowledge/{knowledgeId}/session/{sessionId}/message/stream:
    get:
      operationId: SessionMessageController_sendMessageStream
      parameters:
        - in: path
          name: knowledgeId
          required: true
          schema:
            type: string
        - in: path
          name: sessionId
          required: true
          schema:
            type: string
        - in: query
          name: q
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            text/event-stream:
              schema:
                example: |+
                  data: hello

                  data: world

                type: string
          description: SSE stream
      security:
        - access-token: []
      tags:
        - SessionMessage
  /api/knowledge/{knowledgeId}/session/{sessionId}/message/{id}:
    delete:
      operationId: SessionMessageController_delete
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
        - in: path
          name: knowledgeId
          required: true
          schema:
            type: string
        - in: path
          name: sessionId
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SessionMessageEntity"
          description: Record deleted successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - SessionMessage
    get:
      operationId: SessionMessageController_findByID
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
        - in: path
          name: knowledgeId
          required: true
          schema:
            type: string
        - in: path
          name: sessionId
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SessionMessageEntity"
          description: Record found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - SessionMessage
    put:
      operationId: SessionMessageController_update
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
        - in: path
          name: knowledgeId
          required: true
          schema:
            type: string
        - in: path
          name: sessionId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: string
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SessionMessageEntity"
          description: Record updated successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - SessionMessage
  /api/utilities/expand:
    post:
      operationId: UtilitiesController_expand
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ExpandDto"
        required: true
      responses:
        "201":
          description: ""
      security:
        - access-token: []
      tags:
        - Utilities
  /api/utilities/structured-output:
    post:
      operationId: UtilitiesController_structuredOutput
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/StructuredOutputDto"
        required: true
      responses:
        "201":
          description: ""
      security:
        - access-token: []
      tags:
        - Utilities
  /api/utilities/summary:
    post:
      operationId: UtilitiesController_summary
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SummaryDto"
        required: true
      responses:
        "201":
          description: ""
      security:
        - access-token: []
      tags:
        - Utilities
servers: []
tags: []
