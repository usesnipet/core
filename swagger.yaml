components:
  schemas:
    ConnectorAuth:
      properties: {}
      type: object
    ConnectorEntity:
      properties:
        auth:
          $ref: "#/components/schemas/ConnectorAuth"
        capabilities:
          description: The capabilities of the connector
          items:
            enum:
              - CONTENT
              - SEARCH
              - ACTION
            type: string
          type: array
        config:
          oneOf:
            - $ref: "#/components/schemas/MCPIntegrationManifest"
            - $ref: "#/components/schemas/ManualIntegrationManifest"
        connectorState:
          $ref: "#/components/schemas/ConnectorStateEntity"
        createdAt:
          description: The timestamp when the invite was created
          format: date-time
          type: string
        id:
          description: The unique identifier for the entity
          format: uuid
          type: string
        integration:
          $ref: "#/components/schemas/IntegrationEntity"
        integrationId:
          description: The integration id
          format: uuid
          type: string
        knowledge:
          $ref: "#/components/schemas/KnowledgeEntity"
        knowledgeId:
          description: The knowledge base id
          format: uuid
          type: string
        name:
          description: The name of the connector
          type: string
        roleConnectorPermissions:
          items:
            $ref: "#/components/schemas/RoleConnectorPermissionEntity"
          type: array
        type:
          description: The type of the connector
          enum:
            - MANUAL
            - MCP
          type: string
        updatedAt:
          description: The timestamp when the invite was last updated
          format: date-time
          type: string
      required:
        - id
        - createdAt
        - updatedAt
        - knowledgeId
        - integrationId
        - name
        - type
        - capabilities
        - config
      type: object
    ConnectorMetrics:
      properties: {}
      type: object
    ConnectorStateEntity:
      properties:
        connector:
          $ref: "#/components/schemas/ConnectorEntity"
        connectorId:
          description: The unique identifier for the connector state
          format: uuid
          type: string
        createdAt:
          description: The timestamp when the invite was created
          format: date-time
          type: string
        errorCount:
          description: The error count of the connector state
          type: number
        id:
          description: The unique identifier for the entity
          format: uuid
          type: string
        lastErrorDetails:
          description: The last error details of the connector state
          nullable: true
          type: string
        lastErrorMessage:
          description: The last error message of the connector state
          nullable: false
          type: string
        lastHeartbeatAt:
          description: The unique identifier for the connector state
          type: string
        lastSyncAt:
          description: The unique identifier for the connector state
          type: string
        metrics:
          $ref: "#/components/schemas/ConnectorMetrics"
        status:
          description: The status of the connector state
          enum:
            - HEALTHY
            - WARNING
            - ERROR
            - OFFLINE
          type: string
        syncCursor:
          description: The sync cursor of the connector state
          nullable: true
          type: string
        throttleStatus:
          $ref: "#/components/schemas/ConnectorThrottleStatus"
        updatedAt:
          description: The timestamp when the invite was last updated
          format: date-time
          type: string
      required:
        - id
        - createdAt
        - updatedAt
        - connectorId
        - lastHeartbeatAt
        - lastSyncAt
        - status
        - errorCount
        - lastErrorMessage
        - lastErrorDetails
        - throttleStatus
        - metrics
        - syncCursor
      type: object
    ConnectorThrottleStatus:
      properties: {}
      type: object
    ErrorResponse:
      properties:
        code:
          type: string
        error:
          type: string
        timestamp:
          format: date-time
          type: string
      required:
        - error
        - code
        - timestamp
      type: object
    IngestDto:
      properties:
        connectorId:
          format: uuid
          type: string
        externalId:
          format: uuid
          nullable: true
          type: string
        file:
          format: binary
          type: string
        knowledgeId:
          format: uuid
          type: string
        metadata:
          nullable: true
          type: string
      required:
        - file
        - knowledgeId
        - connectorId
      type: object
    IntegrationEntity:
      properties:
        authMethods:
          description: The authentication methods of the integration
          items:
            enum:
              - OAUTH
              - API_KEY
              - JWT
            type: string
          type: array
        connectors:
          description: The connectors of the integration
          items:
            $ref: "#/components/schemas/ConnectorEntity"
          type: array
        createdAt:
          description: The timestamp when the invite was created
          format: date-time
          type: string
        id:
          description: The unique identifier for the entity
          format: uuid
          type: string
        manifest:
          description: The name of the integration
          oneOf:
            - $ref: "#/components/schemas/MCPIntegrationManifest"
            - $ref: "#/components/schemas/ManualIntegrationManifest"
        type:
          description: The type of the integration
          enum:
            - MANUAL
            - MCP
          type: string
        updatedAt:
          description: The timestamp when the invite was last updated
          format: date-time
          type: string
      required:
        - id
        - createdAt
        - updatedAt
        - type
        - authMethods
        - manifest
        - connectors
      type: object
    KbPermission:
      properties: {}
      type: object
    KnowledgeEntity:
      properties:
        connectors:
          description: The connectors of the knowledge base
          items:
            $ref: "#/components/schemas/ConnectorEntity"
          type: array
        createdAt:
          description: The timestamp when the invite was created
          format: date-time
          type: string
        id:
          description: The unique identifier for the entity
          format: uuid
          type: string
        name:
          description: The name of the knowledge base
          type: string
        roleAssignments:
          description: The role assignments of the knowledge base
          items:
            $ref: "#/components/schemas/RoleAssignmentEntity"
          type: array
        updatedAt:
          description: The timestamp when the invite was last updated
          format: date-time
          type: string
      required:
        - id
        - createdAt
        - updatedAt
        - name
        - connectors
        - roleAssignments
      type: object
    RoleAssignmentEntity:
      properties:
        connectorPermissions:
          description: The connector permissions of the role assignment
          items:
            $ref: "#/components/schemas/RoleConnectorPermissionEntity"
          type: array
        createdAt:
          description: The timestamp when the invite was created
          format: date-time
          type: string
        id:
          description: The unique identifier for the entity
          format: uuid
          type: string
        kbPermissions:
          allOf:
            - $ref: "#/components/schemas/KbPermission"
          description: The permissions of the role
        knowledge:
          allOf:
            - $ref: "#/components/schemas/KnowledgeEntity"
          description: The knowledge base of the role assignment
        knowledgeId:
          description: The id of the knowledge base
          format: uuid
          type: string
        role:
          allOf:
            - $ref: "#/components/schemas/RoleEntity"
          description: The role of the role assignment
        roleId:
          description: The id of the role
          format: uuid
          type: string
        updatedAt:
          description: The timestamp when the invite was last updated
          format: date-time
          type: string
      required:
        - id
        - createdAt
        - updatedAt
        - roleId
        - kbPermissions
        - knowledgeId
      type: object
    RoleConnectorPermissionEntity:
      properties:
        connector:
          allOf:
            - $ref: "#/components/schemas/ConnectorEntity"
          description: The connector of role connector permission
        connectorId:
          description: The id of role connector permission
          format: uuid
          type: string
        createdAt:
          description: The timestamp when the invite was created
          format: date-time
          type: string
        id:
          description: The unique identifier for the entity
          format: uuid
          type: string
        manifestSnapshot:
          description: The manifest of role connector permission
          oneOf:
            - $ref: "#/components/schemas/MCPIntegrationManifest"
            - $ref: "#/components/schemas/ManualIntegrationManifest"
        manifestVersion:
          description: The manifest version of role connector permission
          nullable: true
          type: string
        policyMode:
          description: The policy mode of role connector permission
          enum:
            - ALLOWLIST
            - DENYLIST
          type: string
        resources:
          description: The resources of role connector permission
          items:
            type: string
          nullable: true
          type: array
        roleAssignment:
          allOf:
            - $ref: "#/components/schemas/RoleAssignmentEntity"
          description: The role assignment of role connector permission
        roleAssignmentId:
          description: The id of role connector permission
          format: uuid
          type: string
        tools:
          description: The tools of role connector permission
          items:
            type: string
          nullable: true
          type: array
        updatedAt:
          description: The timestamp when the invite was last updated
          format: date-time
          type: string
        webhookEvents:
          description: The webhook events of role connector permission
          items:
            type: string
          nullable: true
          type: array
      required:
        - id
        - createdAt
        - updatedAt
        - connectorId
        - roleAssignmentId
        - policyMode
        - tools
        - resources
        - webhookEvents
        - manifestSnapshot
        - manifestVersion
      type: object
    RoleEntity:
      properties:
        createdAt:
          description: The timestamp when the invite was created
          format: date-time
          type: string
        id:
          description: The unique identifier for the entity
          format: uuid
          type: string
        name:
          description: The name of the role
          type: string
        roleAssignments:
          items:
            $ref: "#/components/schemas/RoleAssignmentEntity"
          type: array
        updatedAt:
          description: The timestamp when the invite was last updated
          format: date-time
          type: string
      required:
        - id
        - createdAt
        - updatedAt
        - name
      type: object
info:
  contact: {}
  description: The Snipet API description
  title: Snipet core API
  version: "1.0"
openapi: 3.0.0
paths:
  /api/connector:
    get:
      operationId: ConnectorController_findMany
      parameters:
        - description: Maximum number of records to return
          in: query
          name: limit
          required: false
          schema:
            example: 10
            type: number
        - description: Number of records to skip
          in: query
          name: offset
          required: false
          schema:
            example: 0
            type: number
        - description: 'Sort order. Use "-" to DESC. Allowed fields: '
          in: query
          name: sort
          required: false
          schema:
            items:
              type: string
            type: array
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/ConnectorEntity"
                type: array
          description: Records found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Connector
    post:
      operationId: ConnectorController_create
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: string
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConnectorEntity"
          description: Record created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "409":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Conflict - duplicate record
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Connector
  /api/connector/{id}:
    delete:
      operationId: ConnectorController_delete
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConnectorEntity"
          description: Record deleted successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Connector
    get:
      operationId: ConnectorController_findByID
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConnectorEntity"
          description: Record found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Connector
    put:
      operationId: ConnectorController_update
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: string
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConnectorEntity"
          description: Record updated successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Connector
  /api/content/ingest:
    post:
      operationId: ContentController_ingest
      parameters: []
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/IngestDto"
        required: true
      responses:
        "201":
          description: ""
      security:
        - access-token: []
      tags:
        - Content
  /api/content/status/{id}:
    get:
      operationId: ContentController_getStatus
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: ""
      security:
        - access-token: []
      tags:
        - Content
  /api/integration:
    get:
      operationId: IntegrationController_findMany
      parameters:
        - description: Maximum number of records to return
          in: query
          name: limit
          required: false
          schema:
            example: 10
            type: number
        - description: Number of records to skip
          in: query
          name: offset
          required: false
          schema:
            example: 0
            type: number
        - description: 'Sort order. Use "-" to DESC. Allowed fields: '
          in: query
          name: sort
          required: false
          schema:
            items:
              type: string
            type: array
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/IntegrationEntity"
                type: array
          description: Records found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Integration
    post:
      operationId: IntegrationController_create
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: string
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IntegrationEntity"
          description: Record created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "409":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Conflict - duplicate record
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Integration
  /api/integration/{id}:
    delete:
      operationId: IntegrationController_delete
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IntegrationEntity"
          description: Record deleted successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Integration
    get:
      operationId: IntegrationController_findByID
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IntegrationEntity"
          description: Record found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Integration
    put:
      operationId: IntegrationController_update
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: string
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IntegrationEntity"
          description: Record updated successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Integration
  /api/knowledge:
    get:
      operationId: KnowledgeController_findMany
      parameters:
        - description: Maximum number of records to return
          in: query
          name: limit
          required: false
          schema:
            example: 10
            type: number
        - description: Number of records to skip
          in: query
          name: offset
          required: false
          schema:
            example: 0
            type: number
        - description: 'Sort order. Use "-" to DESC. Allowed fields: '
          in: query
          name: sort
          required: false
          schema:
            items:
              type: string
            type: array
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/KnowledgeEntity"
                type: array
          description: Records found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Knowledge
    post:
      operationId: KnowledgeController_create
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: string
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/KnowledgeEntity"
          description: Record created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "409":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Conflict - duplicate record
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Knowledge
  /api/knowledge/{id}:
    delete:
      operationId: KnowledgeController_delete
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/KnowledgeEntity"
          description: Record deleted successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Knowledge
    get:
      operationId: KnowledgeController_findByID
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/KnowledgeEntity"
          description: Record found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Knowledge
    put:
      operationId: KnowledgeController_update
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: string
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/KnowledgeEntity"
          description: Record updated successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Knowledge
  /api/role:
    get:
      operationId: RoleController_findMany
      parameters:
        - description: Maximum number of records to return
          in: query
          name: limit
          required: false
          schema:
            example: 10
            type: number
        - description: Number of records to skip
          in: query
          name: offset
          required: false
          schema:
            example: 0
            type: number
        - description: 'Sort order. Use "-" to DESC. Allowed fields: '
          in: query
          name: sort
          required: false
          schema:
            items:
              type: string
            type: array
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/RoleEntity"
                type: array
          description: Records found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Role
    post:
      operationId: RoleController_create
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: string
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RoleEntity"
          description: Record created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "409":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Conflict - duplicate record
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Role
  /api/role/{id}:
    delete:
      operationId: RoleController_delete
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RoleEntity"
          description: Record deleted successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Role
    get:
      operationId: RoleController_findByID
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RoleEntity"
          description: Record found successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Role
    put:
      operationId: RoleController_update
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: string
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RoleEntity"
          description: Record updated successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Bad request
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Record not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
          description: Internal server error
      security:
        - access-token: []
      tags:
        - Role
servers: []
tags: []
